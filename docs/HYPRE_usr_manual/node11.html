<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<!--Converted with LaTeX2HTML 96.1-g (June 11, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>3.2 Setting Up the Struct Stencil</TITLE>
<META NAME="description" CONTENT="3.2 Setting Up the Struct Stencil">
<META NAME="keywords" CONTENT="usr_manual">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="usr_manual.css">
</HEAD>
<BODY LANG="EN" >
 <A NAME="tex2html234" HREF="node12.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="http://cbl.leeds.ac.uk/nikos/figs/next_motif.gif"></A> <A NAME="tex2html232" HREF="node9.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="http://cbl.leeds.ac.uk/nikos/figs/up_motif.gif"></A> <A NAME="tex2html226" HREF="node10.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="http://cbl.leeds.ac.uk/nikos/figs/previous_motif.gif"></A> <A NAME="tex2html236" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="http://cbl.leeds.ac.uk/nikos/figs/contents_motif.gif"></A> <A NAME="tex2html237" HREF="node40.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="http://cbl.leeds.ac.uk/nikos/figs/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html235" HREF="node12.html">3.3 Setting Up the </A>
<B>Up:</B> <A NAME="tex2html233" HREF="node9.html">3 Structured-Grid System Interface </A>
<B> Previous:</B> <A NAME="tex2html227" HREF="node10.html">3.1 Setting Up the </A>
<BR> <P>
<H1><A NAME="SECTION00420000000000000000">3.2 Setting Up the Struct Stencil</A></H1>
<P>
<A NAME="SettingUptheStructStencil">&#160;</A>
<P>
The geometry of the discretization stencil is described by an array of
integer tuples in 2D (triples in 3D), each representing a relative
offset (in index space) from some gridpoint on the grid.  For example,
the geometry of the 5-pt stencil for the example problem being
considered can be represented in the following way:
<P><A NAME="eqnstencildescription">&#160;</A> <IMG WIDTH=573 HEIGHT=68 ALIGN=BOTTOM  SRC="img4.gif"  > <P>
In (<A HREF="node11.html#eqnstencildescription">3.2</A>), the (0,0) entry represents the
``center'' coefficient, and is the 0th entry in the array ( <IMG WIDTH=16 HEIGHT=25 ALIGN=MIDDLE  SRC="img5.gif"  > ).
The (0,-1) entry represents the ``south'' coefficient, and is the
3rd entry in the array ( <IMG WIDTH=16 HEIGHT=25 ALIGN=MIDDLE  SRC="img6.gif"  > ).  And so on.
<P>
On process 0 or 1, the following code will set up the stencil in
(<A HREF="node11.html#eqnstencildescription">3.2</A>).  The stencil must be the same on all
processes.
<blockquote><PRE>HYPRE_StructStencil  stencil;
int                  offsets[5][2] = {{0,0}, {-1,0}, {1,0}, {0,-1}, {0,1}};
int                  s;

HYPRE_StructStencilCreate(2, 5, &amp;stencil);

for (s = 0; s &lt; 5; s++)
{
   HYPRE_StructStencilSetElement(stencil, s, offsets[s]);
}</PRE>
</blockquote>
The <code>Create()</code> routine creates an empty 2D, 5-pt stencil object.
The <code>SetElement()</code> routine defines the geometry of the stencil
and assigns the array numbers for each of the stencil entries.  None
of the calls are collective calls.
<P>
<HR><A NAME="tex2html234" HREF="node12.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="http://cbl.leeds.ac.uk/nikos/figs/next_motif.gif"></A> <A NAME="tex2html232" HREF="node9.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="http://cbl.leeds.ac.uk/nikos/figs/up_motif.gif"></A> <A NAME="tex2html226" HREF="node10.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="http://cbl.leeds.ac.uk/nikos/figs/previous_motif.gif"></A> <A NAME="tex2html236" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="http://cbl.leeds.ac.uk/nikos/figs/contents_motif.gif"></A> <A NAME="tex2html237" HREF="node40.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="http://cbl.leeds.ac.uk/nikos/figs/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html235" HREF="node12.html">3.3 Setting Up the </A>
<B>Up:</B> <A NAME="tex2html233" HREF="node9.html">3 Structured-Grid System Interface </A>
<B> Previous:</B> <A NAME="tex2html227" HREF="node10.html">3.1 Setting Up the </A>
<P><ADDRESS>
<I>Thomas Treadway <BR>
Fri Jul 27 10:01:25 PDT 2001</I>
</ADDRESS>
</BODY>
</HTML>
