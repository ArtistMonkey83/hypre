<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<!--Converted with LaTeX2HTML 96.1-g (June 11, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>3.5 Symmetric Matrices</TITLE>
<META NAME="description" CONTENT="3.5 Symmetric Matrices">
<META NAME="keywords" CONTENT="usr_manual">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="usr_manual.css">
</HEAD>
<BODY LANG="EN" >
 <A NAME="tex2html268" HREF="node15.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="http://cbl.leeds.ac.uk/nikos/figs/next_motif.gif"></A> <A NAME="tex2html266" HREF="node9.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="http://cbl.leeds.ac.uk/nikos/figs/up_motif.gif"></A> <A NAME="tex2html262" HREF="node13.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="http://cbl.leeds.ac.uk/nikos/figs/previous_motif.gif"></A> <A NAME="tex2html270" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="http://cbl.leeds.ac.uk/nikos/figs/contents_motif.gif"></A> <A NAME="tex2html271" HREF="node40.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="http://cbl.leeds.ac.uk/nikos/figs/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html269" HREF="node15.html">4 Semi-Structured-Grid System Interface </A>
<B>Up:</B> <A NAME="tex2html267" HREF="node9.html">3 Structured-Grid System Interface </A>
<B> Previous:</B> <A NAME="tex2html263" HREF="node13.html">3.4 Setting Up the </A>
<BR> <P>
<H1><A NAME="SECTION00450000000000000000">3.5 Symmetric Matrices</A></H1>
<P>
<A NAME="SymmetricMatrices">&#160;</A>
<P>
Some solvers and matrix storage schemes provide capabilities for
significantly reducing memory usage when the coefficient matrix is
symmetric.  In this situation, each off-diagonal coefficient appears
twice in the matrix, but only one copy needs to be stored.  The
<code>Struct</code> interface provides support for matrix and solver
implementations that use symmetric storage via the
<code>SetSymmetric()</code> routine.
<P>
To describe this in more detail, consider again the 5-pt finite-volume
discretization of (<A HREF="node9.html#eqnlaplacian">3.1</A>) on the grid pictured in Figure
<A HREF="node9.html#figfvgrid">3.1</A>.  Because the discretization is symmetric, only half
of the off-diagonal coefficients need to be stored.  To turn symmetric
storage on, the following line of code needs to be inserted somewhere
between the <code>Create()</code> and <code>Initialize()</code> calls.
<blockquote><PRE>HYPRE_StructMatrixSetSymmetric(A, 1);</PRE>
</blockquote>
Note that symmetric storage may or may not actually be used, depending
on the underlying storage scheme.  Currently in HYPRE, symmetric
storage is always used when indicated.
<P>
To most efficiently utilize the <code>Struct</code> interface for symmetric
matrices, notice that only half of the off-diagonal coefficients need
to be set.  To do this for the example being considered, we simply
need to redefine the 5-pt stencil of Section
<A HREF="node11.html#SettingUptheStructStencil">3.2</A> to an ``appropriate'' 3-pt stencil, then
set matrix coefficients (as in Section <A HREF="node12.html#SettingUptheStructMatrix">3.3</A>)
for these three stencil elements <EM>only</EM>.  For example, we could
use the following stencil
<P><A NAME="eqnsymmetricstencil">&#160;</A> <IMG WIDTH=530 HEIGHT=68 ALIGN=BOTTOM  SRC="img8.gif"  > <P>
This 3-pt stencil provides enough information to recover the full 5-pt
stencil geometry and associated matrix coefficients.
<P>
<HR><A NAME="tex2html268" HREF="node15.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="http://cbl.leeds.ac.uk/nikos/figs/next_motif.gif"></A> <A NAME="tex2html266" HREF="node9.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="http://cbl.leeds.ac.uk/nikos/figs/up_motif.gif"></A> <A NAME="tex2html262" HREF="node13.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="http://cbl.leeds.ac.uk/nikos/figs/previous_motif.gif"></A> <A NAME="tex2html270" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="http://cbl.leeds.ac.uk/nikos/figs/contents_motif.gif"></A> <A NAME="tex2html271" HREF="node40.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="http://cbl.leeds.ac.uk/nikos/figs/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html269" HREF="node15.html">4 Semi-Structured-Grid System Interface </A>
<B>Up:</B> <A NAME="tex2html267" HREF="node9.html">3 Structured-Grid System Interface </A>
<B> Previous:</B> <A NAME="tex2html263" HREF="node13.html">3.4 Setting Up the </A>
<P><ADDRESS>
<I>Thomas Treadway <BR>
Fri Jul 27 10:01:25 PDT 2001</I>
</ADDRESS>
</BODY>
</HTML>
