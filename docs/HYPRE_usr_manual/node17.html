<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<!--Converted with LaTeX2HTML 96.1-g (June 11, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>4.2 Setting Up the SStruct Stencil</TITLE>
<META NAME="description" CONTENT="4.2 Setting Up the SStruct Stencil">
<META NAME="keywords" CONTENT="usr_manual">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="usr_manual.css">
</HEAD>
<BODY LANG="EN" >
 <A NAME="tex2html309" HREF="node18.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="http://cbl.leeds.ac.uk/nikos/figs/next_motif.gif"></A> <A NAME="tex2html307" HREF="node15.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="http://cbl.leeds.ac.uk/nikos/figs/up_motif.gif"></A> <A NAME="tex2html301" HREF="node16.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="http://cbl.leeds.ac.uk/nikos/figs/previous_motif.gif"></A> <A NAME="tex2html311" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="http://cbl.leeds.ac.uk/nikos/figs/contents_motif.gif"></A> <A NAME="tex2html312" HREF="node40.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="http://cbl.leeds.ac.uk/nikos/figs/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html310" HREF="node18.html">4.3 Setting Up the </A>
<B>Up:</B> <A NAME="tex2html308" HREF="node15.html">4 Semi-Structured-Grid System Interface </A>
<B> Previous:</B> <A NAME="tex2html302" HREF="node16.html">4.1 Setting Up the </A>
<BR> <P>
<H1><A NAME="SECTION00520000000000000000">4.2 Setting Up the SStruct Stencil</A></H1>
<P>
<A NAME="SettingUptheSStructStencil">&#160;</A>
<P>
The geometry of the discretization stencil is described by an array of
integer tuples in 2D (triples in 3D), each representing a relative
offset (in index space) from some gridpoint on the grid.  For example,
the geometry of the 9-pt stencil for the example problem being
considered can be represented in the following way:
<P><A NAME="sstructeqnstencildescription">&#160;</A> <IMG WIDTH=588 HEIGHT=68 ALIGN=BOTTOM  SRC="img11.gif"  > <P>
In (<A HREF="node11.html#eqnstencildescription">3.2</A>), the (0,0) entry represents the
``center'' coefficient, and is the 0th entry in the array ( <IMG WIDTH=16 HEIGHT=25 ALIGN=MIDDLE  SRC="img5.gif"  > ).
The (0,-1) entry represents the ``south'' coefficient, and is the
3rd entry in the array ( <IMG WIDTH=16 HEIGHT=25 ALIGN=MIDDLE  SRC="img6.gif"  > ).  And so on.
<P>
On process 0, 1, or 2, the following code will set up the stencil in
(<A HREF="node11.html#eqnstencildescription">3.2</A>).
<blockquote><PRE>HYPRE_SStructStencil stencil;
int                  s;
int                  offsets[9][2] = {{0,0},
                                      {-1, 0}, { 1, 0}, { 0,-1}, { 0, 1}};
                                      {-1,-1}, { 1,-1}, {-1, 1}, { 1, 1}};

HYPRE_SStructStencilCreate(2, 9, &amp;stencil);

for (s = 0; s &lt; 9; s++)
   HYPRE_SStructStencilSetEntry(stencil, s, offsets[s], 0);</PRE>
</blockquote>
The <code>Create()</code> routine creates an empty 2D, 9-pt stencil object.
The <code>SetEntry()</code> routine defines the geometry of the stencil, and
assigns the array numbers for each of the stencil entries.  None of
the calls are collective calls.
<P>
<HR><A NAME="tex2html309" HREF="node18.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="http://cbl.leeds.ac.uk/nikos/figs/next_motif.gif"></A> <A NAME="tex2html307" HREF="node15.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="http://cbl.leeds.ac.uk/nikos/figs/up_motif.gif"></A> <A NAME="tex2html301" HREF="node16.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="http://cbl.leeds.ac.uk/nikos/figs/previous_motif.gif"></A> <A NAME="tex2html311" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="http://cbl.leeds.ac.uk/nikos/figs/contents_motif.gif"></A> <A NAME="tex2html312" HREF="node40.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="http://cbl.leeds.ac.uk/nikos/figs/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html310" HREF="node18.html">4.3 Setting Up the </A>
<B>Up:</B> <A NAME="tex2html308" HREF="node15.html">4 Semi-Structured-Grid System Interface </A>
<B> Previous:</B> <A NAME="tex2html302" HREF="node16.html">4.1 Setting Up the </A>
<P><ADDRESS>
<I>Thomas Treadway <BR>
Fri Jul 27 10:01:25 PDT 2001</I>
</ADDRESS>
</BODY>
</HTML>
