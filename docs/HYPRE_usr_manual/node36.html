<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<!--Converted with LaTeX2HTML 96.1-g (June 11, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>8.1 Building the Library</TITLE>
<META NAME="description" CONTENT="8.1 Building the Library">
<META NAME="keywords" CONTENT="usr_manual">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="usr_manual.css">
</HEAD>
<BODY LANG="EN" >
 <A NAME="tex2html541" HREF="node37.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="http://cbl.leeds.ac.uk/nikos/figs/next_motif.gif"></A> <A NAME="tex2html539" HREF="node35.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="http://cbl.leeds.ac.uk/nikos/figs/up_motif.gif"></A> <A NAME="tex2html533" HREF="node35.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="http://cbl.leeds.ac.uk/nikos/figs/previous_motif.gif"></A> <A NAME="tex2html543" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="http://cbl.leeds.ac.uk/nikos/figs/contents_motif.gif"></A> <A NAME="tex2html544" HREF="node40.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="http://cbl.leeds.ac.uk/nikos/figs/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html542" HREF="node37.html">8.2 Calling from Fortran</A>
<B>Up:</B> <A NAME="tex2html540" HREF="node35.html">8 Additional Information</A>
<B> Previous:</B> <A NAME="tex2html534" HREF="node35.html">8 Additional Information</A>
<BR> <P>
<H1><A NAME="SECTION00910000000000000000">8.1 Building the Library</A></H1>
<P>
Usually, HYPRE can be built by simply typing <kbd>configure</kbd>
followed by <kbd>make</kbd> in the top-level source directory.
<P>
<H2><A NAME="SECTION00911000000000000000">8.1.1 Library configuration</A></H2>
<P>
To automatically generate machine specific makefiles, type
<kbd>configure</kbd> in the top level directory.  The configure
script is a portable script generated by GNU Autoconf.  It runs a
series of tests to determine characteristics of the machine on which
it is running, and it uses the results of the these tests to produce
the machine specific makefiles, called `Makefile', from template files
called `Makefile.in' in each directory.  Once the makefiles are
produced you can run make as you would with any other makefile.
<P>
The configure script primarily does the following things:
<UL>
<LI> selects a compiler
<LI> provides either optimization or debugging options for the compiler
<LI> finds the headers and libraries for MPI
</UL>
<P>
The configure script makes these decisions based on a hierarchical
check.  First, it attempts to identify the machine on which it is
running as a specific supported machine.  Next it will try to identify
the architecture as a supported architecture.  If both of these fail,
generic default decisions are made by the script.  However, the script
does have some command-line options that can give you control over the
choices it will make.  You can type <kbd>configure -help</kbd> to see the
list of all of the command-line options to configure. This is the best
resource for information on configure options.  Below is some
additional helpful information.  Be aware that not all command line
options have been tested on all machines and architectures, even
supported machines and architectures.
<P>
<DL ><DT><STRONG>-with- options</STRONG>
<DD> Each <kbd>-with-</kbd> option that is listed in
<kbd>configure -help</kbd> also was a <kbd>-without-</kbd> option (usually the
default, but not always).  Additionally, all <kbd>-with-</kbd> options
have a <kbd>-with-</kbd><I>option</I>=<I>pathname</I>.  This is not a
supported feature for all <kbd>-with-</kbd> options however and may have
no effect on configuration.
<P>
<DT><STRONG>Compilers</STRONG>
<DD> If you want to choose a compiler then is it recommended
that you choose all (C, C++, Fortran) compilers.
<P>
<DT><STRONG>Compiler Flags</STRONG>
<DD> To choose optimization or debug, use
<kbd>-enable-opt</kbd> (default) or <kbd>-enable-debug</kbd>.
For other compiler flags use the <kbd>-with-CFLAGS</kbd> option.
<P>
<DT><STRONG>BLAS</STRONG>
<DD> By default, configure attempts to find the systems native
optimized BLAS library.  The path for this library must be in the
user's <code>PATH</code>.  To specify another BLAS library available, use
<kbd>-with-BLAS=</kbd><I>pathname</I> or
<kbd>-with-BLAS=</kbd><I>link list</I>.  To configure and compile without
BLAS use the <kbd>-without-BLAS</kbd> option.
<P>
 </DL>
<P>
Configure automatically generates a file <code>HYPRE_config.h</code> that
includes all the header files found to be necessary by configure.
This file may be used to see how a compiled version of the library was
configured and may also be included by the user in his/her own code.
<P>
<H2><A NAME="SECTION00912000000000000000">8.1.2 Linking to the Library</A></H2>
<P>
A program linking with HYPRE must be compiled with
<kbd>-I$HYPRE_DIR/include</kbd> and linked with
<kbd>-L$HYPRE_DIR/lib -l</kbd><I>hypre library name</I>... 
<kbd>-l</kbd><I>hypre library name</I>..., where <kbd>$HYPRE_DIR</kbd> is the
directory where HYPRE is installed.  Additionally, any other
libraries to which HYPRE is linked must also be linked to by the
users application.  For example, the BLAS library or PETSc library are
often (but not always) linked in by HYPRE and would also need to be
linked in by the users application.
<P>
It may be useful to reference the <code>Makefile</code> in the <code>test</code>
subdirectory.  This makefile is designed to build test applications
that link with and call HYPRE.  All include and linking flags that
are used by HYPRE and needed by these test applications get
exported to this file by the <code>configure</code> script.
<P>
<HR><A NAME="tex2html541" HREF="node37.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="http://cbl.leeds.ac.uk/nikos/figs/next_motif.gif"></A> <A NAME="tex2html539" HREF="node35.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="http://cbl.leeds.ac.uk/nikos/figs/up_motif.gif"></A> <A NAME="tex2html533" HREF="node35.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="http://cbl.leeds.ac.uk/nikos/figs/previous_motif.gif"></A> <A NAME="tex2html543" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="http://cbl.leeds.ac.uk/nikos/figs/contents_motif.gif"></A> <A NAME="tex2html544" HREF="node40.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="http://cbl.leeds.ac.uk/nikos/figs/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html542" HREF="node37.html">8.2 Calling from Fortran</A>
<B>Up:</B> <A NAME="tex2html540" HREF="node35.html">8 Additional Information</A>
<B> Previous:</B> <A NAME="tex2html534" HREF="node35.html">8 Additional Information</A>
<P><ADDRESS>
<I>Thomas Treadway <BR>
Fri Jul 27 10:01:25 PDT 2001</I>
</ADDRESS>
</BODY>
</HTML>
