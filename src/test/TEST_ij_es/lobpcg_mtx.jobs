#!/bin/ksh
#BHEADER**********************************************************************
# (c) 1998   The Regents of the University of California
#
# See the file COPYRIGHT_and_DISCLAIMER for a complete copyright
# notice, contact person, and disclaimer.
#
# $Revision: 1.1 $
#EHEADER**********************************************************************

#=============================================================================
# ij_es driver for eigensolvers: (without -lobpcg option runs ij)
# tests for LOBPCG only
# Reading in the data in the MatrixMarket format
# 3 runs must produce identical results.
# Currently, 03/04/2004, broken on some systems possibly due to a bug in lobpcg_utilities.c
#=============================================================================

# Reading in the initial guess in the MatrixMarket format
mpirun -np 4 ./ij_es -lobpcg -7pt -n 10 10 10  -vin Xin.mtx > lobpcg_mtx.out.0
# Reading in the initial guess and the problem matrix in the MatrixMarket format
mpirun -np 4 ./ij_es -lobpcg -ain laplacian_10_10_10.mtx -vin Xin.mtx > lobpcg_mtx.out.1
# Reading in the initial guess and the problem and the preconditioner matrices in the MatrixMarket format
mpirun -np 4 ./ij_es -lobpcg -ain laplacian_10_10_10.mtx -tin laplacian_10_10_10.mtx -vin Xin.mtx > lobpcg_mtx.out.2
